@startuml
skinparam monochrome true

actor Абонент as u
participant "Веб-сайт" as w
participant "Бекенд" as b
database "База данных" as d

u -> w : Запрос упорядоченной информации \nо предоставляемых тарифах/услугах/условиях
activate w
w -> b : Запрос списка с тарифами/услугами/условиями
activate b
b -> d : Запрос выборки с тарифами/услугами/условиями
activate d
d -> b : Список с тарифами/услугами/условиями
deactivate d
b -> b : Сортировка списка в соответствии с запросом
b -> w : Сортированный список 
deactivate b
w -> u : Отображение информации 
deactivate w

u -> w : Ввод данных для заключения договора
activate w
w -> b : Данные абонента
activate b
b -> d : Запрос информации для заключения договора
activate d
d -> b : Данные для заключения договора
deactivate d
b -> b : Формирование договора
b -> d : Ввод информации о договоре в БД
activate d
d -> b : Обновленные данные
deactivate d
b -> w : Договор
deactivate b
w -> u : Отображение информации о договоре
deactivate w

u -> w : Заказ/отказ услуги, подключение/отключение\nтарифа, внесение платежа,\nобновление персональных данных
activate w
w -> b : Запрос на заказ/отказ услуги,\nподключение/отключение тарифа,\nвнесение платежа
activate b
b -> d : Запрос выборки с данными о тарифах, услугах, л/с
activate d
d -> b : Данные о тарифах, услугах, л/с
deactivate d
b -> b : Обработка запроса
b -> d : Результаты обработки запроса
activate d
d -> b : Обновленные данные
deactivate d
b -> w : Подтверждение
deactivate b
w -> u : Отображение результата
deactivate w

u -> w : Запрос информации о состоянии лицевого счета
activate w
w -> b : Запрос информации о л/с
activate b
b -> d : Запрос выборки по л/с
activate d
d -> b : Набор данных
deactivate d
b -> b : Обработка данных о л/с
b -> w : Возврат данных о л/с
deactivate b
w -> u : Отображение состояния л/с
deactivate w

u -> w : Разрыв котракта
activate w
w -> b : Запрос на разрыв контракта
activate b
b -> d : Запрос выборки по контракту и л/с
activate d
d -> b : Набор данных
deactivate d
b -> b : Обработка данных
b -> d : Ввод информации о договоре в БД
activate d
d -> b : Обновленные данные
deactivate d
b -> w : Результат
deactivate b
w -> u : Отображение результата
deactivate w
@enduml
